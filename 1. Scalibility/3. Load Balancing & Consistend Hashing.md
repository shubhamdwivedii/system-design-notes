# Load Balancing 


### Load Balancing is dividing requests (load) evenly among multiple (N) servers (horizontally scaled)

### Load Balancers use "Consistent Hashing" to balance load evenly. 

## Simple Hashing Algo

Every request has a random ID in range 0 to M-1 

Using hashing algorithm on request r1 we get a value m1 
    - h(r1) => m1  

Upon dividing m1 by N (number of servers) we get a remainder 
    - m1%N => S 

The request is assigned to Server with number S. Servers are numbered range from 0 to N. 

IF request ID is uniformly random, we'll have balanced load. 
BUT request ID is never random, same user may send repeated requests with same ID. 

Say if we are storing some cache for request h(r1) = 6 and we have 4 servers initially, request would go to 6%4 == 2nd Server. 

The 2nd server would store some cache in case the same request h(r1) = 6 would come again. 

If we decide to scale our server to 5 server. The request h(r1) = 6 would now go to (6%5 = 1) 1st server. And the cache at 2nd server is useless now. 


## Consistent Hashing Algo

